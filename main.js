(()=>{"use strict";class t{constructor(t,e,n,s){this.name=t,this.id=Date.now().toString(),this.priority=n,this.date=e,this.complete=s}}const e=document.querySelector(".add-task-modal");function n(t){const e=document.querySelector(".task-body");e.innerText="",t.tasks.forEach((t=>{const n=function(t){const e=document.createElement("div");e.classList.add("tasks-container");const n=document.createElement("div");n.classList.add("tasks");const s=document.createElement("input");s.type="checkbox",s.id=`task-${t.id}`,s.checked=t.complete,s.addEventListener("change",(()=>{!function(t,e){e.complete=t.checked,a()}(s,t)}));const c=document.createElement("label");c.for=`task-${t.id}`,c.textContent=t.name,n.appendChild(s),n.appendChild(c),e.appendChild(n);const o=document.createElement("div");o.classList.add("tasks-description");const i=document.createElement("div");i.classList.add("descript","date"),i.innerText=t.date.toString();const d=document.createElement("div");switch(d.classList.add("descript","priority"),t.priority){case"high":d.innerText="High",d.classList.add("high");break;case"medium":d.textContent="Medium",d.classList.add("medium");break;case"low":d.textContent="Low",d.classList.add("low")}return d.addEventListener("click",(()=>{!function(t,e){switch(e.priority){case"high":e.priority="medium",t.textContent="Medium",t.classList.remove("high"),t.classList.add("medium");break;case"medium":e.priority="low",t.textContent="Low",t.classList.remove("medium"),t.classList.add("low");break;case"low":e.priority="high",t.textContent="High",t.classList.remove("low"),t.classList.add("high")}a()}(d,t)})),o.appendChild(i),o.appendChild(d),e.appendChild(o),e}(t);e.appendChild(n)})),console.log(t.tasks)}let s,c=localStorage.getItem("myProjectList");c=JSON.parse(c||JSON.stringify([]));class o{constructor(t,e){this.name=t,this.id=e,this.tasks=[]}}function a(){localStorage.setItem("myProjectList",JSON.stringify(c))}function i(t){const e=document.querySelector(".project-lists");e.textContent="",t.forEach((t=>{const n=function(t){const e=document.createElement("button");e.classList.add("button-nav","button-project"),e.innerText=t.name,e.dataset.listId=t.id;const n=document.createElement("i");return n.classList.add("fa-solid","fa-trash-can","trash-btn"),e.appendChild(n),e}(t);e.appendChild(n),n.querySelector(".trash-btn").addEventListener("click",(()=>{const s=c.indexOf(t);c.splice(s,1),e.removeChild(n),a()}))}))}document.querySelector(".project-form").addEventListener("submit",(function(t){t.preventDefault();const e=document.querySelector(".project-input");if(""===e.value)return void alert("Project name cannot be empty");const n=new o(e.value,Date.now().toString());c.push(n),i(c),console.log(c),e.value=null,a()})),document.querySelector(".navbar").addEventListener("click",(function(t){document.querySelectorAll(".button-nav").forEach((t=>{t.classList.remove("active")})),"button"===t.target.tagName.toLowerCase()&&(t.target.classList.add("active"),s=t.target.dataset.listId),console.log(s),n(c.find((t=>t.id===s)))})),i(c),document.querySelector("[data-new-task-form]").addEventListener("submit",(function(){const e=document.querySelector(".task-name"),o=document.querySelector(".task-date"),i=document.querySelector(".task-priority"),d=new t(e.value,o.value,i.value,!1),r=c.find((t=>t.id===s));r?(r.tasks.push(d),n(r)):alert("Please select a project to add your task"),e.value=null,o.value=null,console.log(r),a()})),document.querySelector(".task-del").addEventListener("click",(function(){const t=c.find((t=>t.id===s));t.tasks=t.tasks.filter((t=>!t.complete)),n(t),a()})),document.getElementById("new-task").addEventListener("click",(()=>{e.showModal()})),document.querySelector(".close-btn").addEventListener("click",(t=>{t.preventDefault(),e.close()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBY25FLE1BQU1vRSxRQUFPbEUsSUFBUUEsRUFBS2YsV0FDOURTLEVBQVl1RSxHQUNackQsR0FFSixJQTVIeUJwQixTQUFTMkUsZUFBZSxZQUNoQ3pELGlCQUFpQixTQUFTLEtBQ25DbkIsRUFBTzZFLFdBQVcsSUE2SEE1RSxTQUFTQyxjQUFjLGNBQy9CaUIsaUJBQWlCLFNBQVVzQyxJQUNyQ0EsRUFBRUMsaUJBQ0YxRCxFQUFPOEUsT0FBTyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG8tZG8tMi8uL3NyYy9UYXNrLmpzIiwid2VicGFjazovL3RvLWRvLTIvLi9zcmMvUHJvamVjdC5qcyIsIndlYnBhY2s6Ly90by1kby0yLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb2plY3RsaXN0LCBhY3RpdmVJZCwgc2F2ZVRvTG9jYWxTdG9yYWdlIH0gZnJvbSBcIi4vUHJvamVjdFwiO1xuY2xhc3MgVGFzayB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgZGF0ZSwgcHJpb3JpdHksIGNvbXBsZXRlKSB7XG4gICAgICAgIHRoaXMubmFtZSA9bmFtZTtcbiAgICAgICAgdGhpcy5pZCA9IERhdGUubm93KCkudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgICAgICB0aGlzLmRhdGUgPSBkYXRlO1xuICAgICAgICB0aGlzLmNvbXBsZXRlID0gY29tcGxldGU7XG4gICAgfVxufVxuXG5jb25zdCBkaWFsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrLW1vZGFsXCIpO1xuXG5mdW5jdGlvbiBvcGVuVGFza01vZGFsKCkge1xuICAgIGNvbnN0IE9wZW5Nb2RhbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmV3LXRhc2tcIik7XG4gICAgT3Blbk1vZGFsQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGRpYWxvZy5zaG93TW9kYWwoKTtcbiAgICB9KVxufVxuXG5mdW5jdGlvbiBjcmVhdGVUYXNrVGVtcGxhdGUodGFzaykge1xuICAgIGNvbnN0IHRhc2tjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRhc2tjb250YWluZXIuY2xhc3NMaXN0LmFkZChcInRhc2tzLWNvbnRhaW5lclwiKTtcbiAgICBjb25zdCB0YXNrc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGFza3NEaXYuY2xhc3NMaXN0LmFkZChcInRhc2tzXCIpO1xuICAgIGNvbnN0IHRhc2tjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICB0YXNrY2hlY2tib3gudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICB0YXNrY2hlY2tib3guaWQgPSBgdGFzay0ke3Rhc2suaWR9YDtcbiAgICB0YXNrY2hlY2tib3guY2hlY2tlZCA9IHRhc2suY29tcGxldGU7XG4gICAgdGFza2NoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICBjaGFuZ2VUYXNrY29uZGl0aW9uKHRhc2tjaGVja2JveCwgdGFzayk7XG4gICAgfSlcbiAgICBjb25zdCB0YXNrbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgdGFza2xhYmVsLmZvciA9IGB0YXNrLSR7dGFzay5pZH1gO1xuICAgIHRhc2tsYWJlbC50ZXh0Q29udGVudCA9IHRhc2submFtZTsgXG4gICAgdGFza3NEaXYuYXBwZW5kQ2hpbGQodGFza2NoZWNrYm94KTtcbiAgICB0YXNrc0Rpdi5hcHBlbmRDaGlsZCh0YXNrbGFiZWwpO1xuICAgIHRhc2tjb250YWluZXIuYXBwZW5kQ2hpbGQodGFza3NEaXYpO1xuICAgIC8vdGFzay1kZXNjcmlwdGlvbiBET01cbiAgICBjb25zdCB0YXNrZGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRhc2tkZXNjcmlwdGlvbi5jbGFzc0xpc3QuYWRkKFwidGFza3MtZGVzY3JpcHRpb25cIik7XG4gICAgY29uc3QgZGVzY3JpcHREYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkZXNjcmlwdERhdGUuY2xhc3NMaXN0LmFkZChcImRlc2NyaXB0XCIsIFwiZGF0ZVwiKTtcbiAgICBkZXNjcmlwdERhdGUuaW5uZXJUZXh0ID0gKHRhc2suZGF0ZSkudG9TdHJpbmcoKTtcbiAgICBjb25zdCBkZXNjcmlwdFByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkZXNjcmlwdFByaW9yaXR5LmNsYXNzTGlzdC5hZGQoXCJkZXNjcmlwdFwiLCBcInByaW9yaXR5XCIpO1xuICAgIHN3aXRjaCh0YXNrLnByaW9yaXR5KSB7XG4gICAgICAgIGNhc2UgJ2hpZ2gnOlxuICAgICAgICAgICAgZGVzY3JpcHRQcmlvcml0eS5pbm5lclRleHQgPSBcIkhpZ2hcIjtcbiAgICAgICAgICAgIGRlc2NyaXB0UHJpb3JpdHkuY2xhc3NMaXN0LmFkZChcImhpZ2hcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21lZGl1bSc6XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRQcmlvcml0eS50ZXh0Q29udGVudCA9IFwiTWVkaXVtXCI7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRQcmlvcml0eS5jbGFzc0xpc3QuYWRkKFwibWVkaXVtXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbG93JzpcbiAgICAgICAgICAgIGRlc2NyaXB0UHJpb3JpdHkudGV4dENvbnRlbnQgPSBcIkxvd1wiO1xuICAgICAgICAgICAgZGVzY3JpcHRQcmlvcml0eS5jbGFzc0xpc3QuYWRkKFwibG93XCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vQ2xpY2thYmxlIHByaW9yaXR5IGRpdiB0byBjaGFuZ2UgcHJpb3JpdHlcbiAgICBkZXNjcmlwdFByaW9yaXR5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIChzd2l0Y2hQcmlvcml0eShkZXNjcmlwdFByaW9yaXR5LCB0YXNrKSlcbiAgICB9KTtcbiAgICAvL1xuICAgIHRhc2tkZXNjcmlwdGlvbi5hcHBlbmRDaGlsZChkZXNjcmlwdERhdGUpO1xuICAgIHRhc2tkZXNjcmlwdGlvbi5hcHBlbmRDaGlsZChkZXNjcmlwdFByaW9yaXR5KTtcbiAgICB0YXNrY29udGFpbmVyLmFwcGVuZENoaWxkKHRhc2tkZXNjcmlwdGlvbik7XG4gICAgcmV0dXJuIHRhc2tjb250YWluZXI7XG59XG5cbi8vbG9naWMgZm9yIGNsaWNrYWJsZSBkaXYgdG8gY2hhbmdlIHByaW9yaXR5XG5mdW5jdGlvbiBzd2l0Y2hQcmlvcml0eShjb250ZW50LCB0YXNrKSB7XG4gICAgc3dpdGNoKHRhc2sucHJpb3JpdHkpIHtcbiAgICAgICAgY2FzZSBcImhpZ2hcIiA6XG4gICAgICAgICAgICB0YXNrLnByaW9yaXR5ID0gXCJtZWRpdW1cIjtcbiAgICAgICAgICAgIGNvbnRlbnQudGV4dENvbnRlbnQgPSBcIk1lZGl1bVwiO1xuICAgICAgICAgICAgY29udGVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlnaFwiKTtcbiAgICAgICAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LmFkZChcIm1lZGl1bVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1lZGl1bVwiIDpcbiAgICAgICAgICAgICAgICB0YXNrLnByaW9yaXR5ID0gXCJsb3dcIjtcbiAgICAgICAgICAgICAgICBjb250ZW50LnRleHRDb250ZW50ID0gXCJMb3dcIjtcbiAgICAgICAgICAgICAgICBjb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtZWRpdW1cIik7XG4gICAgICAgICAgICAgICAgY29udGVudC5jbGFzc0xpc3QuYWRkKFwibG93XCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibG93XCIgOlxuICAgICAgICB0YXNrLnByaW9yaXR5ID0gXCJoaWdoXCI7XG4gICAgICAgIGNvbnRlbnQudGV4dENvbnRlbnQgPSBcIkhpZ2hcIjtcbiAgICAgICAgY29udGVudC5jbGFzc0xpc3QucmVtb3ZlKFwibG93XCIpO1xuICAgICAgICBjb250ZW50LmNsYXNzTGlzdC5hZGQoXCJoaWdoXCIpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XG59XG4vLy8vLy9cblxuLy9sb2dpYyB0byBjaGFuZ2UgdGFzayBjb21wbGV0ZSBjb25kaXRpb24gdXBvbiBjbGlja2VkXG5mdW5jdGlvbiBjaGFuZ2VUYXNrY29uZGl0aW9uKGNoZWNrYm94LHRhc2spIHtcbiAgICB0YXNrLmNvbXBsZXRlID0gY2hlY2tib3guY2hlY2tlZDtcbiAgICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKTtcbn1cbi8vLy8vL1xuXG5mdW5jdGlvbiBhZGROZXdUYXNrKCkge1xuICAgIGNvbnN0IHRhc2tuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLW5hbWVcIik7XG4gICAgY29uc3QgdGFza2RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2stZGF0ZVwiKTtcbiAgICBjb25zdCB0YXNrcHJpb3JpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2stcHJpb3JpdHlcIik7XG4gICAgY29uc3QgbmV3VGFzayA9IG5ldyBUYXNrKHRhc2tuYW1lLnZhbHVlLHRhc2tkYXRlLnZhbHVlLCB0YXNrcHJpb3JpdHkudmFsdWUsIGZhbHNlKTtcbiAgICBjb25zdCBhY3RpdmVwcm9qZWN0ID0gcHJvamVjdGxpc3QuZmluZChwcm9qZWN0ID0+IHByb2plY3QuaWQgPT09IGFjdGl2ZUlkKTtcbiAgICBpZiAoYWN0aXZlcHJvamVjdCkge1xuICAgICAgICBhY3RpdmVwcm9qZWN0LnRhc2tzLnB1c2gobmV3VGFzayk7XG4gICAgICAgIHJlbmRlclRhc2tzKGFjdGl2ZXByb2plY3QpOyBcbiAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydChcIlBsZWFzZSBzZWxlY3QgYSBwcm9qZWN0IHRvIGFkZCB5b3VyIHRhc2tcIik7XG4gICAgfVxuICAgIHRhc2tuYW1lLnZhbHVlID0gbnVsbDtcbiAgICB0YXNrZGF0ZS52YWx1ZSA9IG51bGw7XG4gICAgY29uc29sZS5sb2coYWN0aXZlcHJvamVjdCk7XG4gICAgc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclRhc2tzKHByb2plY3QpIHtcbiAgICBjb25zdCB0YXNrYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFzay1ib2R5XCIpO1xuICAgIHRhc2tib2R5LmlubmVyVGV4dCA9IFwiXCI7XG4gICAgcHJvamVjdC50YXNrcy5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICBjb25zdCBUYXNrcyA9IGNyZWF0ZVRhc2tUZW1wbGF0ZSh0YXNrKTtcbiAgICAgICAgdGFza2JvZHkuYXBwZW5kQ2hpbGQoVGFza3MpO1xuICAgIH0pXG4gICAgY29uc29sZS5sb2cocHJvamVjdC50YXNrcyk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNvbXBsZXRlZFRhc2soKSB7XG4gICAgY29uc3QgYWN0aXZlcHJvamVjdCA9IHByb2plY3RsaXN0LmZpbmQocHJvamVjdCA9PiBwcm9qZWN0LmlkID09PSBhY3RpdmVJZCk7XG4gICAgYWN0aXZlcHJvamVjdC50YXNrcyA9IGFjdGl2ZXByb2plY3QudGFza3MuZmlsdGVyKHRhc2s9PiAhdGFzay5jb21wbGV0ZSk7XG4gICAgcmVuZGVyVGFza3MoYWN0aXZlcHJvamVjdCk7XG4gICAgc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XG4gICAgXG59XG5cbmZ1bmN0aW9uIGNsb3NlVGFza01vZGFsKCkge1xuICAgIGNvbnN0IGNsb3NlTW9kYWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNsb3NlLWJ0blwiKTtcbiAgICBjbG9zZU1vZGFsQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGRpYWxvZy5jbG9zZSgpO1xuICAgIH0pXG59XG5cblxuXG5leHBvcnQge29wZW5UYXNrTW9kYWwsIGNsb3NlVGFza01vZGFsLCBhZGROZXdUYXNrLCByZW5kZXJUYXNrcywgcmVtb3ZlQ29tcGxldGVkVGFza307IiwiaW1wb3J0IHsgcmVuZGVyVGFza3MgfSBmcm9tIFwiLi9UYXNrXCI7XG5sZXQgZGVmYXVsdFByb2plY3RMaXN0PVtdO1xubGV0IHByb2plY3RsaXN0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJteVByb2plY3RMaXN0XCIpO1xuICAgIHByb2plY3RsaXN0ID0gSlNPTi5wYXJzZShwcm9qZWN0bGlzdCB8fCBKU09OLnN0cmluZ2lmeShkZWZhdWx0UHJvamVjdExpc3QpKTtcbmxldCBhY3RpdmVJZDtcblxuY2xhc3MgUHJvamVjdCB7XG4gICAgY29uc3RydWN0b3IobmFtZSxpZCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMudGFza3MgPSBbXTtcbiAgICB9XG59XG5mdW5jdGlvbiBzYXZlVG9Mb2NhbFN0b3JhZ2UoKXtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIm15UHJvamVjdExpc3RcIiwgSlNPTi5zdHJpbmdpZnkocHJvamVjdGxpc3QpKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTmV3UHJvamVjdCAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBwcm9qZWN0aW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtaW5wdXRcIik7XG4gICAgaWYgKHByb2plY3RpbnB1dC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICBhbGVydChcIlByb2plY3QgbmFtZSBjYW5ub3QgYmUgZW1wdHlcIik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbmV3cHJvamVjdCA9IG5ldyBQcm9qZWN0KHByb2plY3RpbnB1dC52YWx1ZSwgRGF0ZS5ub3coKS50b1N0cmluZygpKTtcbiAgICBwcm9qZWN0bGlzdC5wdXNoKG5ld3Byb2plY3QpO1xuICAgIHJlbmRlclByb2plY3QocHJvamVjdGxpc3QpO1xuICAgIGNvbnNvbGUubG9nKHByb2plY3RsaXN0KTtcbiAgICBwcm9qZWN0aW5wdXQudmFsdWUgPSBudWxsO1xuICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVQcm9qZWN0VGVtcGxhdGUgKHByb2plY3QpIHtcbiAgICBjb25zdCBwcm9qZWN0YnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBwcm9qZWN0YnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJidXR0b24tbmF2XCIsIFwiYnV0dG9uLXByb2plY3RcIik7XG4gICAgcHJvamVjdGJ1dHRvbi5pbm5lclRleHQgPSBwcm9qZWN0Lm5hbWU7XG4gICAgcHJvamVjdGJ1dHRvbi5kYXRhc2V0Lmxpc3RJZCA9IHByb2plY3QuaWQ7XG4gICAgY29uc3QgcHJvamRlbGV0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpXCIpO1xuICAgIHByb2pkZWxldGUuY2xhc3NMaXN0LmFkZChcImZhLXNvbGlkXCIsIFwiZmEtdHJhc2gtY2FuXCIsIFwidHJhc2gtYnRuXCIpO1xuICAgIHByb2plY3RidXR0b24uYXBwZW5kQ2hpbGQocHJvamRlbGV0ZSk7XG4gICAgcmV0dXJuIHByb2plY3RidXR0b247XG59IFxuXG5mdW5jdGlvbiByZW5kZXJQcm9qZWN0IChsaXN0KSB7XG4gICAgY29uc3QgcHJvamVjdGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1saXN0c1wiKTtcbiAgICBwcm9qZWN0Y29udGFpbmVyLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBsaXN0LmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3RCdXR0b24gPSBjcmVhdGVQcm9qZWN0VGVtcGxhdGUocHJvamVjdCk7XG4gICAgICAgIHByb2plY3Rjb250YWluZXIuYXBwZW5kQ2hpbGQocHJvamVjdEJ1dHRvbik7XG4gICAgLy9SZW1vdmUgcHJvamVjdCBsb2dpY1xuICAgIGNvbnN0IGRlbGV0ZXByb2pCdG4gPSBwcm9qZWN0QnV0dG9uLnF1ZXJ5U2VsZWN0b3IoXCIudHJhc2gtYnRuXCIpO1xuICAgIGRlbGV0ZXByb2pCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdEluZGV4ID0gcHJvamVjdGxpc3QuaW5kZXhPZihwcm9qZWN0KTtcbiAgICAgICAgcHJvamVjdGxpc3Quc3BsaWNlKHByb2plY3RJbmRleCwgMSk7XG4gICAgICAgIHByb2plY3Rjb250YWluZXIucmVtb3ZlQ2hpbGQocHJvamVjdEJ1dHRvbik7XG4gICAgICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpO1xuICAgIH0pXG4gICAgfSlcbn1cblxuZnVuY3Rpb24gZ2V0QWN0aXZlUHJvamVjdCAoZSkge1xuICAgIGNvbnN0IHByb2plY3RidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ1dHRvbi1uYXZcIik7XG4gICAgcHJvamVjdGJ0bi5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgIH0pXG4gICAgaWYgKGUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJidXR0b25cIikge1xuICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgICAgICBhY3RpdmVJZCA9IGUudGFyZ2V0LmRhdGFzZXQubGlzdElkO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhhY3RpdmVJZCk7XG4gICAgLy9hZGQgcmVuZGVyIHRhc2tzIGZ1bmN0aW9uIGZvciBhY3RpdmUgcHJvamVjdFxuICAgIGNvbnN0IGFjdGl2ZXByb2ogPSBwcm9qZWN0bGlzdC5maW5kKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PT0gYWN0aXZlSWQpO1xuICAgIHJlbmRlclRhc2tzKGFjdGl2ZXByb2opO1xufVxuXG5cbmV4cG9ydCB7cHJvamVjdGxpc3QsIGFjdGl2ZUlkLCBjcmVhdGVOZXdQcm9qZWN0LCBnZXRBY3RpdmVQcm9qZWN0LCBzYXZlVG9Mb2NhbFN0b3JhZ2UsIHJlbmRlclByb2plY3R9OyIsImltcG9ydCB7IGNyZWF0ZU5ld1Byb2plY3QgLCBnZXRBY3RpdmVQcm9qZWN0LCByZW5kZXJQcm9qZWN0LHByb2plY3RsaXN0IH0gZnJvbSBcIi4vUHJvamVjdFwiO1xuaW1wb3J0IHsgY2xvc2VUYXNrTW9kYWwsIG9wZW5UYXNrTW9kYWwsIGFkZE5ld1Rhc2ssIHJlbW92ZUNvbXBsZXRlZFRhc2sgfSBmcm9tIFwiLi9UYXNrXCI7XG5mdW5jdGlvbiBQcm9qZWN0RXZlbnRMaXN0ZW5lciAoKSB7XG4gICAgY29uc3QgcHJvamVjdGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtZm9ybVwiKTtcbiAgICBwcm9qZWN0Zm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChjcmVhdGVOZXdQcm9qZWN0KSk7XG4gICAgY29uc3QgbmF2YmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZiYXJcIik7XG4gICAgbmF2YmFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZ2V0QWN0aXZlUHJvamVjdCkpO1xuICAgIHJlbmRlclByb2plY3QocHJvamVjdGxpc3QpO1xufVxuXG5mdW5jdGlvbiBUYXNrRXZlbnRMaXN0ZW5lcigpIHtcbiAgICBjb25zdCB0YXNrZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1uZXctdGFzay1mb3JtXVwiKTtcbiAgICB0YXNrZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChhZGROZXdUYXNrKSk7XG4gICAgY29uc3QgdGFza0RlbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFzay1kZWxcIik7XG4gICAgdGFza0RlbEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKHJlbW92ZUNvbXBsZXRlZFRhc2spKTtcbn1cblByb2plY3RFdmVudExpc3RlbmVyKCk7XG5UYXNrRXZlbnRMaXN0ZW5lcigpO1xub3BlblRhc2tNb2RhbCgpO1xuY2xvc2VUYXNrTW9kYWwoKTtcblxuIl0sIm5hbWVzIjpbIlRhc2siLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJkYXRlIiwicHJpb3JpdHkiLCJjb21wbGV0ZSIsInRoaXMiLCJpZCIsIkRhdGUiLCJub3ciLCJ0b1N0cmluZyIsImRpYWxvZyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInJlbmRlclRhc2tzIiwicHJvamVjdCIsInRhc2tib2R5IiwiaW5uZXJUZXh0IiwidGFza3MiLCJmb3JFYWNoIiwidGFzayIsIlRhc2tzIiwidGFza2NvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0YXNrc0RpdiIsInRhc2tjaGVja2JveCIsInR5cGUiLCJjaGVja2VkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNoZWNrYm94Iiwic2F2ZVRvTG9jYWxTdG9yYWdlIiwiY2hhbmdlVGFza2NvbmRpdGlvbiIsInRhc2tsYWJlbCIsImZvciIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJ0YXNrZGVzY3JpcHRpb24iLCJkZXNjcmlwdERhdGUiLCJkZXNjcmlwdFByaW9yaXR5IiwiY29udGVudCIsInJlbW92ZSIsImNyZWF0ZVRhc2tUZW1wbGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJhY3RpdmVJZCIsInByb2plY3RsaXN0IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsIlByb2plY3QiLCJzZXRJdGVtIiwicmVuZGVyUHJvamVjdCIsImxpc3QiLCJwcm9qZWN0Y29udGFpbmVyIiwicHJvamVjdEJ1dHRvbiIsInByb2plY3RidXR0b24iLCJkYXRhc2V0IiwibGlzdElkIiwicHJvamRlbGV0ZSIsImNyZWF0ZVByb2plY3RUZW1wbGF0ZSIsInByb2plY3RJbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJyZW1vdmVDaGlsZCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInByb2plY3RpbnB1dCIsInZhbHVlIiwiYWxlcnQiLCJuZXdwcm9qZWN0IiwicHVzaCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJidG4iLCJ0YXJnZXQiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJmaW5kIiwidGFza25hbWUiLCJ0YXNrZGF0ZSIsInRhc2twcmlvcml0eSIsIm5ld1Rhc2siLCJhY3RpdmVwcm9qZWN0IiwiZmlsdGVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJzaG93TW9kYWwiLCJjbG9zZSJdLCJzb3VyY2VSb290IjoiIn0=